{% extends 'base.html.twig' %}

{% block title %}Студенты{% endblock %}

{% block body %}

<div>
    <a href="{{ path('app_panel') }}">Вернуться в панель</a>
</div>

<h1>Добавить студента</h1>

<!-- Форма для добавления студента -->
{% include 'block/student_form.html.twig' with {'students': students, 'groups': groups} %}


<h1>Управление студентами</h1>

<!-- Таблица студентов -->
<div>
    <table>
        <thead> 
            <tr>
                <th>Фамилия</th>
                <th>Имя</th>
                <th>Отчество</th>
                <th>Группа</th>
                <th>Возраст</th>
                <th>Действия</th> 
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
                <td>{{ student.last_name }}</td>
                <td>{{ student.first_name }}</td>
                <td>{{ student.middle_name }}</td>
                <td>{{ student.group_id }}</td>
                <td>{{ student.age }}</td>
                <td>
                    <a href="{{ path('delete_student', { id: student.id }) }}">Удалить</a>
                </td> 
            </tr>
            {% else %}
            <tr>
                <td colspan="6">Студенты не найдены.</td>
            </tr>
            {% endfor %}
        </tbody>    
    </table>
</div>

{% endblock %}
